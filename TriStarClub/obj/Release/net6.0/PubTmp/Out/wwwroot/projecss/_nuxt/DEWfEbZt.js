import{_ as E}from"./vTIBdjwe.js";import{_ as V}from"./DH3-Mkvj.js";import{_ as I,o as f,a as g,b as s,d as u,f as x,n as L,t as S,ab as R,z as T,i as P,l as Q,E as $,F as q,e as A,p as k,C as N,q as C,D as b,I as M,k as O}from"./bIp8vrNC.js";import{u as B}from"./CyCUcgYy.js";const H={name:"PartnerItem",props:{item:{type:Object}}},z={class:"col-md-6"},j={class:"partner-block"},G={class:"partner-logo"},J=["src","alt","title"],K={class:"partner-site"},U=["href"],W={class:"partner-description"},X={class:"caption"},Y=["innerHTML"],Z=["innerHTML"];function ee(n,i,e,t,d,o){const r=R;return f(),g("div",z,[s("div",j,[s("div",G,[s("img",{src:e.item.image,alt:e.item.title,title:e.item.title},null,8,J)]),u(),s("div",K,[x(r,null,{default:L(()=>[s("a",{href:e.item.url,target:"_blank",rel:"nofollow noopener"},S(e.item.url),9,U)]),_:1})]),u(),s("div",W,[s("div",X,S(e.item.type),1),u(),s("div",{class:"title",innerHTML:e.item.title},null,8,Y),u(),s("div",{class:"description",innerHTML:e.item.text},null,8,Z)])])])}const ne=I(H,[["render",ee]]);var _={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SponsorsListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sponsors"},name:{kind:"Name",value:"Sponsors"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"page"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:324}};_.loc.source={body:"query SponsorsListQuery ($page: Int, $limit: Int) {\n    sponsors: Sponsors (page: $page, limit: $limit) {\n        items {\n            id\n            url\n            title\n            image\n            text\n            type\n        }\n        pagination {\n            total\n            limit\n            page\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function p(n,i){if(n.kind==="FragmentSpread")i.add(n.name.value);else if(n.kind==="VariableDefinition"){var e=n.type;e.kind==="NamedType"&&i.add(e.name.value)}n.selectionSet&&n.selectionSet.selections.forEach(function(t){p(t,i)}),n.variableDefinitions&&n.variableDefinitions.forEach(function(t){p(t,i)}),n.definitions&&n.definitions.forEach(function(t){p(t,i)})}var h={};(function(){_.definitions.forEach(function(i){if(i.name){var e=new Set;p(i,e),h[i.name.value]=e}})})();function w(n,i){for(var e=0;e<n.definitions.length;e++){var t=n.definitions[e];if(t.name&&t.name.value==i)return t}}function ie(n,i){var e={kind:n.kind,definitions:[w(n,i)]};n.hasOwnProperty("loc")&&(e.loc=n.loc);var t=h[i]||new Set,d=new Set,o=new Set;for(t.forEach(function(a){o.add(a)});o.size>0;){var r=o;o=new Set,r.forEach(function(a){if(!d.has(a)){d.add(a);var m=h[a]||new Set;m.forEach(function(l){o.add(l)})}})}return d.forEach(function(a){var m=w(n,a);m&&e.definitions.push(m)}),e}ie(_,"SponsorsListQuery");const te={class:"content-block black-bg partners"},ae={class:"container"},se={class:"row"},F=8,de={__name:"index",async setup(n){let i,e;const t=T(),{data:d,error:o}=([i,e]=P(async()=>B(async()=>{let l=b(_,{limit:F,page:parseInt(t.params.page||1)||1},"cache-first");return{...await Promise.all([l,O().getPageInfo()]).then(([{sponsors:v}])=>v)}},"$wu5VoEdDdi")),i=await i,e(),i);if(o.value)throw Q(o.value);const{items:r,pagination:a}=$(d.value);async function m(l=1){l<1&&(l=1);try{const c=await b(_,{page:l,limit:F}).then(({sponsors:v})=>v);l>1?r.value=r.value.concat(c.items):r.value=c.items,a.value=c.pagination}catch(c){M(c)}}return(l,c)=>{const v=E,D=V;return f(),g("div",te,[s("div",ae,[x(v),u(),s("div",se,[(f(!0),g(q,null,A(k(r),y=>(f(),N(ne,{item:y,key:y.id},null,8,["item"]))),128)),u(),k(a)?(f(),N(D,{key:0,url:k(t).fullPath,data:k(a),onChange:m},null,8,["url","data"])):C("",!0)])])])}}};export{de as default};
