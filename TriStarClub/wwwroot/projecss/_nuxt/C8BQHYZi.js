import{_ as k,N as f,o,a as u,b as i,d as r,t as s,F as v,q as g,e as b,S,O as Y,D as M,z as E,u as N,W as w,C as H}from"./bIp8vrNC.js";import{d as O}from"./CyvmEBDe.js";import"./CyCUcgYy.js";const T={name:"day",props:{date:{type:String},start:{type:String},items:{type:Array,default:()=>[]}},computed:{isStartDay(){return f(this.date).isSame(f(this.start),"day")}}},F={class:"program-stage"},R={class:"date"},V={class:"table-default"},L={class:"table-head-default"},Q={class:"table-head-default"},B={class:"table-head-default"},q={class:"table-head-default"},z=["data-content"],A=["data-content"],C={key:0},P=["data-content","innerHTML"],I=["data-content","innerHTML"];function j(e,t,a,n,p,m){return o(),u("div",F,[i("div",R,[r(s(e.$formatDate(a.date,"DD.MM.YYYY, dddd"))+" ",1),m.isStartDay?(o(),u(v,{key:0},[r("\n				â€” "+s(e.$t("events.program.event_day")),1)],64)):g("",!0)]),r(),i("div",V,[i("table",null,[i("thead",null,[i("tr",null,[i("th",null,[i("div",L,s(e.$t("events.program.table_start")),1)]),r(),i("th",null,[i("div",Q,s(e.$t("events.program.table_end")),1)]),r(),i("th",null,[i("div",B,s(e.$t("events.program.table_event")),1)]),r(),i("th",null,[i("div",q,s(e.$t("events.program.table_place")),1)])])]),r(),i("tbody",null,[(o(!0),u(v,null,b(a.items,d=>(o(),u("tr",null,[i("td",{"data-content":e.$t("events.program.table_start")},[i("b",null,s(e.$formatDate(d.date_from,"HH:mm")),1)],8,z),r(),i("td",{"data-content":e.$t("events.program.table_end")},[d.date_to?(o(),u("b",C,s(e.$formatDate(d.date_to,"HH:mm")),1)):g("",!0)],8,A),r(),i("td",{"data-content":e.$t("events.program.table_event"),innerHTML:d.title},null,8,P),r(),i("td",{"data-content":e.$t("events.program.table_place"),innerHTML:d.place},null,8,I)]))),256))])])])])}const Z=k(T,[["render",j]]);var _={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"EventDetailProgramQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"event"},name:{kind:"Name",value:"Event"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"program"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};_.loc.source={body:"query EventDetailProgramQuery ($id: String!){\n    event: Event (id: $id) {\n        id\n        program\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function h(e,t){if(e.kind==="FragmentSpread")t.add(e.name.value);else if(e.kind==="VariableDefinition"){var a=e.type;a.kind==="NamedType"&&t.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(n){h(n,t)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(n){h(n,t)}),e.definitions&&e.definitions.forEach(function(n){h(n,t)})}var y={};(function(){_.definitions.forEach(function(t){if(t.name){var a=new Set;h(t,a),y[t.name.value]=a}})})();function D(e,t){for(var a=0;a<e.definitions.length;a++){var n=e.definitions[a];if(n.name&&n.name.value==t)return n}}function G(e,t){var a={kind:e.kind,definitions:[D(e,t)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var n=y[t]||new Set,p=new Set,m=new Set;for(n.forEach(function(l){m.add(l)});m.size>0;){var d=m;m=new Set,d.forEach(function(l){if(!p.has(l)){p.add(l);var c=y[l]||new Set;c.forEach(function($){m.add($)})}})}return p.forEach(function(l){var c=D(e,l);c&&a.definitions.push(c)}),a}G(_,"EventDetailProgramQuery");const K=O({name:"page-event-program",props:{event:{type:Object}},components:{Day:Z},asyncData:async()=>{let e,t;return{program:([e,t]=Y(()=>M(_,{id:E().params.id},"cache-first").then(({event:n})=>n.program)),e=await e,t(),e)||[]}},setup(){N({titleTemplate:w().t("events.tabs_seo.program")+" %s"})},computed:{dates(){let e=[];return this.program.forEach(t=>{let a=t.date_from?f(t.date_from).tz().format("YYYY-MM-DD"):null;a&&e.indexOf(a)===-1&&e.push(a);let n=t.date_to?f(t.date_to).tz().format("YYYY-MM-DD"):null;n&&e.indexOf(n)===-1&&e.push(n)}),e.map(t=>f.utc(t,"YYYY-MM-DD").toISOString())},items(){let e=[];return this.dates.forEach(t=>{let a=this.program.filter(n=>f(n.date_from).isSame(f(t),"day"));e.push(a)}),e}}},"$ZKc0SZnNwB"),W={class:"event-page__program"},J={class:"program-head"},U={class:"subhead"};function X(e,t,a,n,p,m){const d=S("Day");return o(),u("div",W,[i("div",J,[i("div",U,[r(s(e.$t("events.program.title"))+" ",1),e.dates.length===1||e.dates.length>1&&e.dates[0]===e.dates[e.dates.length-1]?(o(),u(v,{key:0},[r(s(e.$formatDate(e.dates[0],"DD MMMM YYYY"))+",\n				",1)],64)):g("",!0),r(),e.dates.length>1?(o(),u(v,{key:1},[r(s(e.$formatDate(e.dates[0],"DD MMMM YYYY"))+" - "+s(e.$formatDate(e.dates[e.dates.length-1],"DD MMMM YYYY"))+",\n				",1)],64)):g("",!0),r(" "+s(e.event.city),1)])]),r(),(o(!0),u(v,null,b(e.dates,(l,c)=>(o(),H(d,{key:c,date:l,items:e.items[c],start:e.event.date},null,8,["date","items","start"]))),128))])}const ae=k(K,[["render",X]]);export{ae as default};
