import{_ as z}from"./Ctq6v3cF.js";import{_ as G}from"./vTIBdjwe.js";import{z as U,c as H,r as J,i as M,l as W,E as X,G as Z,D as I,H as K,I as Y,o as m,a as N,b as F,f as p,d as c,p as u,n as x,t as O,J as w,F as Q,e as A,q as P,C as $,P as ee,y as ie,k as ne}from"./bIp8vrNC.js";import{_ as ae}from"./CHXXxOy-.js";import{u as te}from"./CyCUcgYy.js";import{u as le}from"./B_dvM0pQ.js";import{_ as se}from"./c-ZnYkb2.js";import{_ as re,U as oe}from"./CtpbzS-f.js";import"./BvQgWdB0.js";var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlogsListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"Objects"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"blogs"},name:{kind:"Name",value:"Blogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"page"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:357}};h.loc.source={body:"query BlogsListQuery ($page: Int, $limit: Int, $filter: Objects) {\n    blogs: Blogs (page: $page, limit: $limit, filter: $filter) {\n        items {\n            id\n            url\n            title\n            date\n            image\n            description\n        }\n        pagination {\n            total\n            limit\n            page\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function b(e,i){if(e.kind==="FragmentSpread")i.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){b(a,i)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){b(a,i)}),e.definitions&&e.definitions.forEach(function(a){b(a,i)})}var V={};(function(){h.definitions.forEach(function(i){if(i.name){var n=new Set;b(i,n),V[i.name.value]=n}})})();function T(e,i){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==i)return a}}function de(e,i){var n={kind:e.kind,definitions:[T(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=V[i]||new Set,s=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var g=r;r=new Set,g.forEach(function(t){if(!s.has(t)){s.add(t);var l=V[t]||new Set;l.forEach(function(v){r.add(v)})}})}return s.forEach(function(t){var l=T(e,t);l&&n.definitions.push(l)}),n}de(h,"BlogsListQuery");var _={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BlogsListFilterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filter"}},type:{kind:"NamedType",name:{kind:"Name",value:"Objects"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"blogs"},name:{kind:"Name",value:"Blogs"},arguments:[{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"Variable",name:{kind:"Name",value:"filter"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"filter"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"page"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:378}};_.loc.source={body:"query BlogsListFilterQuery ($page: Int, $limit: Int, $filter: Objects) {\n    blogs: Blogs (page: $page, limit: $limit, filter: $filter) {\n        filter\n        items {\n            id\n            url\n            title\n            date\n            image\n            description\n        }\n        pagination {\n            total\n            limit\n            page\n        }\n    }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function y(e,i){if(e.kind==="FragmentSpread")i.add(e.name.value);else if(e.kind==="VariableDefinition"){var n=e.type;n.kind==="NamedType"&&i.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach(function(a){y(a,i)}),e.variableDefinitions&&e.variableDefinitions.forEach(function(a){y(a,i)}),e.definitions&&e.definitions.forEach(function(a){y(a,i)})}var D={};(function(){_.definitions.forEach(function(i){if(i.name){var n=new Set;y(i,n),D[i.name.value]=n}})})();function q(e,i){for(var n=0;n<e.definitions.length;n++){var a=e.definitions[n];if(a.name&&a.name.value==i)return a}}function ce(e,i){var n={kind:e.kind,definitions:[q(e,i)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var a=D[i]||new Set,s=new Set,r=new Set;for(a.forEach(function(t){r.add(t)});r.size>0;){var g=r;r=new Set,g.forEach(function(t){if(!s.has(t)){s.add(t);var l=D[t]||new Set;l.forEach(function(v){r.add(v)})}})}return s.forEach(function(t){var l=q(e,t);l&&n.definitions.push(l)}),n}ce(_,"BlogsListFilterQuery");const me={class:"content-block white-bg"},ue={class:"container"},ve={class:"content-block-wrap"},fe={class:"content-block-main"},ke={key:0,class:"news-filter navigation-container"},C=10,we={__name:"index",async setup(e){let i,n;const a=U(),s=H(()=>{var o;return parseInt(((o=a.query)==null?void 0:o.typeId)||0)||0}),r=J(parseInt(a.params.page||1)||1),{data:g,error:t}=([i,n]=M(()=>te(()=>{let o=I(_,{limit:C,page:r.value,filter:{type:s.value}},"cache-first");return Promise.all([o,ne().getPageInfo()]).then(([{blogs:f}])=>f)},"$ansXcfZp0C")),i=await i,n(),i);if(t.value)throw W(t.value);const{items:l,filter:v,pagination:E}=X(g.value);Z(s,()=>{R()});async function R(o=1,f=!1){o<1&&(o=1);try{const k=await I(h,{filter:{type:s.value},page:o,limit:C},"cache-first").then(({blogs:S})=>S);l.value=k.items,E.value=k.pagination,history.replaceState(history.state,"",K(a.fullPath,o)),f&&le(".content-block-main")}catch(k){Y(k)}}return(o,f)=>{const k=z,S=G,B=ie,j=ae;return m(),N("section",me,[F("div",ue,[p(k),c(),F("div",ve,[F("div",fe,[p(S),c(),u(v)?(m(),N("div",ke,[p(B,{to:"/blog/",class:w(["navigation-item",{active:s.value===0}]),"active-class":"route-active","exact-active-class":"exact-route-active"},{default:x(()=>[c(O(o.$t("blog.all")),1)]),_:1},8,["class"]),c(),(m(!0),N(Q,null,A(u(v).types,d=>(m(),$(B,{to:"/blog/?typeId="+d.id,key:d.id,class:w(["navigation-item",{active:s.value===d.id}]),"active-class":"route-active","exact-active-class":"exact-route-active"},{default:x(()=>[c(O(d.title),1)]),_:2},1032,["to","class"]))),128))])):P("",!0),c(),u(l).length>0?(m(),$(re,{key:u(l)[0].id,item:u(l)[0]},null,8,["item"])):P("",!0),c(),(m(!0),N(Q,null,A(u(l).filter((d,L)=>L>0),(d,L)=>(m(),$(se,{key:d.id,item:d,class:w(["small-block",{"news-with-announce":d.description.length}])},null,8,["item","class"]))),128)),c(),p(j,{url:(o._.provides[ee]||o.$route).fullPath,data:u(E),onChange:f[0]||(f[0]=d=>R(d,!0))},null,8,["url","data"])]),c(),p(oe)])])])}}};export{we as default};
